<!DOCTYPE html>
<!--[if lt IE 7]>
<html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>
<html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>
<html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js"> <!--<![endif]-->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>全部课程_IT/互联网|影视动漫|金融会计|职场能力_极视教育网</title>
    <meta name="description" content="极视教育作为中国领先的游戏职业在线教育平台之一,国内第一家专注于游戏职业培训与发展的在线 教育平台。平台致力于构建“学习+实战+机遇”三元结构闭环的模式，携手企业与名师一 起帮助有职业培训需求的人才，并为企业提供人才储备的解决方案,拥有海量高清职业课程,涵盖20+个技术领域,如Android,iOS ,Unity3D,Java,Photoshop,Maya,3D MAX,独立游戏等视频教程.根据在线学习特点,极视教育推出职业图谱,帮助学习者从零基础起步,结合实战案例演练,系统学习,助你快速成为优秀技术人才！">
    <meta name="keywords" content="极视教育,职业教育,在线教育平台,在线教育,在线学习,职业培训,android,ios,Unity3D,java,Photoshop,Maya,3D MAX,独立游戏">
    <meta name="viewport" content="width=device-width">

    <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->

    <!-- <link rel="stylesheet" href="css/normalize.css"> -->
    <link rel="stylesheet" href="/css/main_cbf4c02.css">
    <style type="text/css">
        .midden-tab-menu .animation {transition: height .5s ease-out;-moz-transition: height .5s ease-out;-webkit-transition: height .5s ease-out;-o-transition: height .5s ease-out;transform-origin: center;-webkit-transform-origin: center;-ms-transform-origin: center;-moz-transform-origin: center;}
        .content-wrap *{box-sizing:border-box;-moz-box-sizing:border-box; /* Firefox */-webkit-box-sizing:border-box; /* Safari */}
        .content-wrap{margin:0 auto;width: 1200px;}
        .top-img-wrap{height: 200px;line-height: 200px;font-size: 38px;color: #fff;background: url('/img/info/setinfo/top-img-bg.png') no-repeat center center;background-size: cover;margin-bottom: 12px;}
        .midden-tab-menu ul{border-bottom: 1px solid #cecece;font-size: 16px;margin-bottom: 32px;}
        .midden-tab-menu ul>li{width: 66px;height: 46px;line-height: 46px;margin:0 50px 0 20px;text-align: center;}
        .midden-tab-menu ul>li.active{border-bottom: 3px solid #ff9001;color: #ff9001;height: 46px;}
        .midden-tab-menu ul>li.active a{color: #ff9001;}
        .midden-tab-menu ul>li:hover{border-bottom: 3px solid #ff9001;color: #ff9001;height: 46px;}
        .midden-tab-menu ul>li:hover a{color: #ff9001;}
        .midden-tab-menu ul>li:last-child{width: 80px;}
        .body-wrap{height: 442px;background: #fffdf7;box-shadow: 0 5px 6px 5px rgba(0,0,0,0.1);-moz-box-shadow: 0 5px 6px 2px rgba(0,0,0,0.1);margin-bottom: 90px;padding:42px 172px;}
         input{border:1px solid #cecece;height: 36px;vertical-align: middle;color: #666;border-radius: 3px;}
         input[type='text'],input[type='password']{padding-left: 15px;}
         input[type='button']{cursor: pointer;}
         .content-wrap .i-icon{background: url('/img/info/thbind-icon.png') no-repeat;display: inline-block;vertical-align: middle;width: 112px;height: 112px;}
         .content-wrap .i-qq{background-position: 0px 2px;}
         .content-wrap .i-wx{background-position: -136px 0;}
         .content-wrap .active-img-wrap .i-qq{background-position:0px -135px;}
         .content-wrap .active-img-wrap .i-wx{background-position: -136px -136px;}
        .btn-highlight{background: #ff9001;color: #fff;text-align: center;border:none;cursor: pointer;}
        .btn-gray{background: #bbbbbb;color: #fff;text-align: center;border:1px solid #bbbbbb;cursor: pointer;}
        .mrg-l136{margin-left: 136px;}
        .w100{width: 100px;}.tc{text-align: center;}.mrg16{margin:16px 0;}.bc{display: block;margin:0 auto;}
        .c9{color: #999;}
        /*弹框common样式*/
         .popbox *{box-sizing:border-box;-moz-box-sizing:border-box; /* Firefox */-webkit-box-sizing:border-box; /* Safari */}
        .popbox .i-icon{background: url('/img/info/setinfo/icon.png') no-repeat;display: inline-block;vertical-align: middle;}
        .btn-highlight,.btn-bind{background: #ff9001;color: #fff;text-align: center;border:none;cursor: pointer;}
        .btn-highlight,.btn-bind:hover{background: #ffad43;}
        .btn-gray,.btn-unbind{background: #bbbbbb;color: #fff;text-align: center;border:1px solid #bbbbbb;cursor: pointer;}
        .popbox{position: fixed;top: 50%;left: 50%;z-index: 88888;background: #fff;border-radius: 3px;}
        .popbox .title-wrap{font-size: 16px;background: #636974;color: #fff;position: relative;text-align: center;height: 42px;line-height: 42px;}
        .popbox .i-close{background-position:-253px -73px;position: absolute;top: 10px;right: 10px;cursor: pointer;}
        .popbox .midden-wrap{padding:18px 40px;}
        .popbox .bottom-wrap{margin-top: 10px;}
        .popbox .btn-sure{width: 170px;height: 35px;}
        .th-bind-popbox{width: 412px;height: 264px;margin-left: -206px;margin-top: -182px;}
        .w228{width: 228px;}.mrg-t10{margin-top: 10px;}.mrg-b20{margin-bottom: 20px;}
        .th-unbind-fail-popbox{width: 412px;height: 206px;margin-left: -206px;margin-top: -103px;}
        .pre-wrap{white-space: pre-wrap;line-height: 28px;}
        .relative-wrap{position: relative;}
        .err{background-color: #db8a83;color: #fff;font-weight: normal;height: 24px;right: 60px;line-height: 24px;padding-right: 10px;position: absolute;top: 6px;padding: 0 7px;float: left;display: none;}
        /*弹框common样式*/
    </style>
</head>
<body>
<div class="" include="/view/module/header.html"></div>
<div class="top-img-wrap">
    <div class="content-wrap">个人设置</div>
</div>
<div class="content-wrap">
    <div class="midden-tab-menu"><ul class="clearfix"><li class="f-l  animation"><a href="/view/info/setinfo.html">个人信息</a></li><li class="f-l animation "><a href="/view/info/account_safe.html">账户安全</a></li><li class="f-l animation active"><a href="/view/info/th_bind.html">绑定第三方</a></li></ul></div>
    <div class="body-wrap j_body_wrap">
        <ul id="j_bind_thaccount_wrap" class="clearfix">
            <li class="j_loading" style="line-height:200px;text-align:center;border:none;">数据加载中...</li>
            <li class="f-l j_bind_qq_item" style="display:none;">
                <div class="">
                    <i class="i-icon i-qq"></i>
                </div>
                <div class="tc mrg16">未绑定</div>
                <div class="">
                    <input type="button" data-type="qq" data-name="QQ" class="w100 bc btn-bind j_as_qq" value="立刻绑定">
                </div>
            </li>
            <li class="f-l mrg-l136 j_bind_wx_item" style="display:none;">
                <div class="">
                    <i class="i-icon i-wx"></i>
                </div>
                <div class="tc mrg16">未绑定</div>
                <div class="">
                    <input type="button" data-type="wx" data-name="微信" class="w100 bc btn-bind j_as_wx" value="立刻绑定">
                </div>
            </li>
        </ul>
    </div>
</div>
<div include="../module/footer.html"></div>
<div  id="j_unbind_thac_popbox" class="popbox th-bind-popbox j_veri_pwd_popbox" style="display:none;">
    <div class="title-wrap">解除绑定<i class="i-icon i-close j_close"></i></div>
    <div class="midden-wrap veri-pwd-wrap">
        <div class="mrg-b16 mrg-t10 tc c3">解绑后将不能使用<span class="type"></span>账号登陆极视教育网</div>
        <div class="tc mrg-t10 mrg-b20">账号：<span class="account"></span></div>
        <div class="relative-wrap">
            <input type="password" class="w228 bc j_pwd" placeholder="请输入登陆密码">
            <span class="err j_pwd_err"></span>
        </div>
    </div>
    <div class="bottom-wrap">
        <input type="button" class="btn-sure btn-highlight bc j_btn_sure" value="确定">
    </div>
</div>

<div id="j_thbind_err_popbox" class="popbox th-unbind-fail-popbox j_email_success_popbox" style="display:none;">
    <div class="title-wrap">解除绑定<i class="i-icon i-close j_close"></i></div>
    <div class="midden-wrap veri-pwd-wrap">
        <div class="mrg-b16 mrg-t10 c3">
            <p class="pre-wrap reason">此账号没有可以登录的手机号/邮箱，需要设
定手机号/邮箱才能进行解绑操作</p>
        </div>
    </div>
    <div class="bottom-wrap">
        <input type="button" class="btn-sure btn-highlight bc j_close" value="确定">
    </div>
</div>
<script src="/js/vendor/jquery-1.11.3.min_6163309.js"></script>
<script type="text/javascript" src="/js/main_c5f7d4a.js"></script>
<script type="text/javascript">
function asCloseTBPopBoxAfterSucc(){
    var type=asModule.asBindTypeVal;
    mainModule.A&&mainModule.A.close();
    var $bind_btn=$('.j_as_'+type);
    asModule.switchThBindingByBtn($bind_btn);
}
function asCloseTBPopBoxAfterErr(reason){
    var $popbox=$('#j_thbind_err_popbox');
    // $popbox.find('.type').html(asModule.asBindTypeName);
    $popbox.find('.reason').html(reason);
    $popbox.fadeIn();
    $('#j_thlogin_popbg').fadeIn();
    mainModule.A&&mainModule.A.close();
}
var thBindModule={
    bindEvents:function(){
        var self=this;
        $('body').on('focus','input',function(){
            var $this=$(this);
            self.inputBlurHide($this);
        });
        // $('body').on('blur','input',function(){
        //     var $this=$(this);
        //     self.inputBlurHide($this);
        // });
        $('body').on('click','.j_close',function(){
            var $this=$(this),$wrap=$this.closest('.popbox');
            self.closePopbox($this);
            self.clearState($wrap);
        });
        $('#j_bind_thaccount_wrap').on('click','.btn-unbind',function(){
            var $this=$(this),
                type=$this.data('name'),
                $popbox=$('.th-bind-popbox'),
                mobilephone=mainModule.getCacheInfo().nickname;

            $popbox.find('.type').html(type);
            $popbox.find('.account').html(mobilephone);
            $popbox.fadeIn();
            $('#j_thlogin_popbg').fadeIn();
            self.asBindTypeVal=$this.data('type');
        });
        $('#j_unbind_thac_popbox').on('click','.btn-sure',function(){
            var $popbox=$j_wrap=$('#j_unbind_thac_popbox'),pwd=$popbox.find('.j_pwd').val(),sourceCode;
            switch(self.asBindTypeVal){
                case 'qq':
                    sourceCode='QQ';
                break;
                case 'wx':
                    sourceCode='WEIXIN';
                break;
            }
            if(pwd==''){$j_wrap.find('.err').html('请输入密码').show();return;}
            $.ajax({
                type:'post',
                data:{passWord:pwd,sourceCode:sourceCode},
                url:mainModule.uri.unBindThBind,
                success:function(result){
                    mainModule.log('解除绑定数据接口返回',result);
                    mainModule.httpInterceptor(result,function(result){
                        $j_wrap.find('.err').hide();
                        $j_wrap.fadeOut();
                        $('#j_thlogin_popbg').fadeOut();
                        thBindModule.switchThUnBindingByBtn($('.j_as_'+thBindModule.asBindTypeVal));
                    },function(result){
                        $j_wrap.find('.err').html(result.message.substr(0,9)).show();
                    })
                }
            })
        });
        $('#j_bind_thaccount_wrap').on('click','.btn-bind',function(){
            var $this=$(this),type=$this.data('type'),name=$this.data('name'),url,title,mm=mainModule;
            thBindModule.asBindTypeVal=type;
            thBindModule.asBindTypeName=name;
            switch(type){
                case 'qq':
                    url=mm.uri.qqBind;
                    title='qqLogin';
                break;
                case 'wx':
                    url=mm.uri.wxBind;
                    title='weixinLogin';
                    mm.A=window.open(url,title, "width=450,height=650,top=350,left=450,menubar=0,scrollbars=1,resizable=1,status=1,titlebar=0,toolbar=0,location=1");
                    return;
                break;
            }
            
            $.ajax({
                type:'get',
                url:url,
                async:false,
                success:function(result){
                    mm.log('绑定'+type+'接口返回结果',result);
                    mm.httpInterceptor(result,function(result){
                        url=result;
                        // mm.A=window.open(result,title, "width=450,height=650,top=350,left=450,menubar=0,scrollbars=1,resizable=1,status=1,titlebar=0,toolbar=0,location=1");
                    })
                }
            });
            mm.A=window.open(url,title, "width=450,height=650,top=350,left=450,menubar=0,scrollbars=1,resizable=1,status=1,titlebar=0,toolbar=0,location=1");
        });
    },
    clearState:function($wrap){
        $wrap.find('input[type="text"]').val('');
        $wrap.find('input[type="password"]').val('');
        $wrap.find('.err').html('').hide();
    },
    closePopbox:function($this){
        $this.closest('.popbox').hide();
        $('.j_global_bg').hide();
    },
    getUserBindTypes:function(){
        var mm=this.mm,self=this;
        $.ajax({
            type:'get',
            url:mm.uri.queryUserBindTypes,
            success:function(result){
                mm.log('获取用户绑定的第三方类型',result);
                mm.httpInterceptor(result,self.renderUserBindTypesDom);
            }
        })
    },
    renderUserBindTypesDom:function(result){
        var self=thBindModule;
        for(var i=0,ii=result.length;i<ii;i++){
            var item=result[i],typeStr=item.source;
            switch(item.source){
                case 'QQ':
                self.switchThBindingByBtn($('.j_as_qq'),typeStr);
                break;
                case 'WEIXIN':
                typeStr='微信';
                 self.switchThBindingByBtn($('.j_as_wx'),typeStr);
                break;
                case 'SINA':
                typeStr='新浪';
                 self.switchThBindingByBtn($('.j_as_sina'),typeStr);
                break;
            }
        }
        $('.j_bind_qq_item').show();
        $('.j_bind_wx_item').show();
        $('.j_loading').hide();
    },
    switchThBindingByBtn:function($bind_btn,typeStr){
        var $p=$bind_btn.parent().prev(),msg,$img_wrap=$p.prev();
        $bind_btn.removeClass('btn-bind').addClass('btn-unbind');
        msg='已绑定'+(typeStr||this.asBindTypeName)+'账号';
        $p.addClass('c9').html(msg);
        $img_wrap.addClass('active-img-wrap');
        $bind_btn.val('解除绑定');
    },
    inputBlurHide:function($input){
        var $err=$input.next('.err'),val=$err.html();
        if(val){
            $err.hide();
        }
    },
    inputFocusShow:function($input){
        var $err=$input.next('.err'),val=$err.html();
        if(val){
            $err.show();
        }
    },
    init:function(){
        this.bindEvents();

        this.mm=mainModule;
        this.getUserBindTypes();
    }
};
thBindModule.init();
</script>
</body>
</html>


