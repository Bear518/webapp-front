define(["utils/underscore"],function(i){function e(i){return function(){return t(i)}}var r=flashVersion=11.2,n={},t=i.memoize(function(i){var e=navigator.userAgent.toLowerCase();return null!==e.match(i)}),o=n.isInt=function(i){return parseFloat(i)%1===0};n.isFlashSupported=function(){var i=n.flashVersion();return i&&i>=r},n.isFF=e(/firefox/i),n.isIPod=e(/iP(hone|od)/i),n.isIPad=e(/iPad/i),n.isSafari602=e(/Macintosh.*Mac OS X 10_8.*6\.0\.\d* Safari/i),n.isOSX=e(/Mac OS X/i);var s=n.isEdge=function(i){return t(i?new RegExp("\\sedge\\/"+i,"i"):/\sEdge\/\d+/i)},a=n.isIETrident=e(/trident\/.+rv:\s*11/i),u=n.isMSIE=function(i){return i?(i=parseFloat(i).toFixed(1),t(new RegExp("msie\\s*"+i,"i"))):t(/msie/i)};n.isChrome=function(){return t(/\s(?:Chrome|CriOS)\//i)&&!n.isEdge()},n.isIE=function(i){return i?(i=parseFloat(i).toFixed(1),i>=12?s(i):i>=11?a():u(i)):s()||a()||u()},n.isSafari=function(){return t(/safari/i)&&!t(/chrome/i)&&!t(/chromium/i)&&!t(/android/i)};var d=n.isIOS=function(i){return t(i?new RegExp("iP(hone|ad|od).+\\s(OS\\s"+i+"|.*\\sVersion/"+i+")","i"):/iP(hone|ad|od)/i)};n.isAndroidNative=function(i){return c(i,!0)};var c=n.isAndroid=function(i,e){return!(e&&t(/chrome\/[123456789]/i)&&!t(/chrome\/18/))&&(i?(o(i)&&!/\./.test(i)&&(i=""+i+"."),t(new RegExp("Android\\s*"+i,"i"))):t(/Android/i))};return n.isMobile=function(){return d()||c()},n.isIframe=function(){return window.frameElement&&"IFRAME"===window.frameElement.nodeName},n.flashVersion=function(){if(n.isAndroid())return 0;var i,e=navigator.plugins;if(e&&(i=e["Shockwave Flash"],i&&i.description))return parseFloat(i.description.replace(/\D+(\d+\.?\d*).*/,"$1"));if("undefined"!=typeof window.ActiveXObject){try{if(i=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash"))return parseFloat(i.GetVariable("$version").split(" ")[1].replace(/\s*,\s*/,"."))}catch(i){return 0}return i}return 0},n});